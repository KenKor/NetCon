---
title: trace-out
description: 
permalink: 
aliases: 
draft: false
date: 2024-09-27
tags:
  - ApiCall
  - ApiTraceCall
  - TraceOut
---
# API TraceOut

The API Call `trace-out` will use the start criteria to retrieve matching connections to start from and determine all shortest [[../Results/Search Or Trace Results/Paths (Result)|Paths (Result)]] to connections that match yield criteria. Block criteria will be avoided during this trace.

If no parameters are provided, the [[../../Overview/Sources|Sources]] (see also [[../Results/Connection Or Path Results/Role|Role]]) in the network are used as start. Similarly, if no yield parameters are provided, shortest paths to [[Consumers|Consumers]] are retrieved, see Role.

Note that all provided start and yield parameters will be used for the match as a logical `and`, apart from the `StartAssetId` which will overrule any `StartCustomAssetId` provided. Likewise for `StopAssetId` and `StopCustomAssetId`.

Block parameters will be used as a logical `or`: if any of those parameters is matched to a connection, that connection is blocked from being used in the trace result. The exception is that `BlockAssetTableNameWildCard`, this will be used as a logical `and` with the asset ids provided.

If the search parameters are specified as wildcards, many matching records can be retrieved.


## Parameters
| File                                                                                 | type    | mand  | description                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ------------------------------------------------------------------------------------ | ------- | ----- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [[../Parameters/StartAssetTableNamePattern\|StartAssetTableNamePattern]] | string  | false | Same as [[AssetTableNamePattern|AssetTableNamePattern]] and used to determine the start criteria used for the trace.                                                                                                                                                                                                                                                                                                                                   |
| [[../Parameters/StartAssetId\|StartAssetId]]                             | long    | false | Same as [[AssetId (Parameter)|AssetId (Parameter)]] and used to determine the start criteria for this trace.                                                                                                                                                                                                                                                                                                                                         |
| [[../Parameters/StartCustomAssetIdPattern\|StartCustomAssetIdPattern]]   | string  | false | Same as [[CustomAssetIdPattern|CustomAssetIdPattern]] and used to determine the start criteria for this trace.                                                                                                                                                                                                                                                                                                                                        |
| [[../Parameters/StartLabelPattern\|StartLabelPattern]]                   | string  | false | Same as [[LabelPattern|LabelPattern]] and used to determine the start criteria for this trace.                                                                                                                                                                                                                                                                                                                                                |
| [[../Parameters/StartAssetHierarchyPattern\|StartAssetHierarchyPattern]] | string  | false | Same as [[AssetHierarchyPattern|AssetHierarchyPattern]] and used to determine the start criteria for this trace.                                                                                                                                                                                                                                                                                                                                       |
| [[../Parameters/StartSpecificationPattern\|StartSpecificationPattern]]   | string  | false | Same as [[SpecificationPattern|SpecificationPattern]] and used to determine the start criteria for this trace.                                                                                                                                                                                                                                                                                                                                        |
| [[../Parameters/YieldAssetTableNamePattern\|YieldAssetTableNamePattern]] | boolean | false | Same as [[AssetTableNamePattern|AssetTableNamePattern]] and used to determine the yield criteria used in the trace. Matches are returned.                                                                                                                                                                                                                                                                                                              |
| [[../Parameters/YieldAssetId\|YieldAssetId]]                             | boolean | false | Same as [[AssetId (Parameter)|AssetId (Parameter)]] and used to determine yield criteria used in the trace. Matches are returned.                                                                                                                                                                                                                                                                                                                    |
| [[../Parameters/YieldCustomAssetIdPattern\|YieldCustomAssetIdPattern]]   | string  | false | Same as [[CustomAssetIdPattern|CustomAssetIdPattern]] and used as yield criteria in this trace. Matches are returned.                                                                                                                                                                                                                                                                                                                                 |
| [[../Parameters/YieldAssetHierarchyPattern\|YieldAssetHierarchyPattern]] | string  | false | Same as [[AssetHierarchyPattern|AssetHierarchyPattern]] and used to determine the yield criteria used in the trace. Matches are excluded.                                                                                                                                                                                                                                                                                                              |
| [[../Parameters/YieldSpecificationPattern\|YieldSpecificationPattern]]   | string  | false | Same as [[SpecificationPattern|SpecificationPattern]] and used to determine the yield criteria used in the trace. Matches are excluded.                                                                                                                                                                                                                                                                                                               |
| [[../Parameters/BlockBarringConnections\|BlockBarringConnections]]       | boolean | false | If true (default) then connections that are barring (blocking the commodity flow) will be blocking in the trace. If false then barring connections will be used in the trace as if they where conducting.                                                                                                                                                                                                                        |
| [[../Parameters/BlockAssetTableNamePattern\|BlockAssetTableNamePattern]] | string  | false | Same as [[AssetTableNamePattern|AssetTableNamePattern]] and used to determine the block criteria used in the trace. Matches are exlcuded.                                                                                                                                                                                                                                                                                                              |
| [[../Parameters/BlockCustomAssetIdPattern\|BlockCustomAssetIdPattern]]   | string  | false | Same as [[CustomAssetIdPattern|CustomAssetIdPattern]] and used as block criteria in this trace. Matches are excluded.                                                                                                                                                                                                                                                                                                                                 |
| [[../Parameters/BlockLabelPattern\|BlockLabelPattern]]                   | string  | false | Same as [[LabelPattern|LabelPattern]] and used to determine the block criteria used in the trace. Matches are excluded.                                                                                                                                                                                                                                                                                                                       |
| [[../Parameters/BlockAssetHierarchyPattern\|BlockAssetHierarchyPattern]] | string  | false | Same as [[AssetHierarchyPattern|AssetHierarchyPattern]] and used to determine the block criteria used in the trace. Matches are excluded.                                                                                                                                                                                                                                                                                                              |
| [[../Parameters/BlockSpecificationPattern\|BlockSpecificationPattern]]   | string  | false | Same as [[SpecificationPattern|SpecificationPattern]] and used to determine the block criteria used in the trace. Matches are excluded.                                                                                                                                                                                                                                                                                                               |
| [[../Parameters/WildCardAsRegex\|WildCardAsRegex]]                       | boolean | false | Changes all pattern behavior for all [[Wildcard|Wildcard]] pattern parameters, for this API call only.                                                                                                                                                                                                                                                                                                                                    |
| [[../Parameters/MaxResults\|MaxResults]]                                 | integer | false | Maximum number of results you want to retrieve, 0 if you want to provide none.This can be used to avoid overflow in the receiving application if very large results are produced.                                                                                                                                                                                                                                                |
| [[../Parameters/MaxStep\|MaxStep]]                                       | integer | false | Maximum number of steps deep that the trace will go. The paths that are returned will not have a depth larger than this. Use 0 (default) to have no maximum.                                                                                                                                                                                                                                                                     |
| [[../Parameters/MaxCost\|MaxCost]]                                       | double  | false | Maximum sum of costs deep that the trace will go. The paths that are returned will not have a sum costs larger than this. Use 0 (default) to have no maximum.                                                                                                                                                                                                                                                                    |
| [[../Parameters/ExpandPaths\|ExpandPaths]]                               | integer | false | Enum that determines what to do with the results. '-1' = only take connections (fastest). '0' = expand the paths fully (default choice). '1' = expand the paths and sort them in ascending reading order (per paths, duplicates omitted, slowest). '2' = return paths and set previousid to the id other paths if in the results, if applicable.                                                                                 |
| [[../Parameters/IncludeGeoms\|IncludeGeoms]]                             | boolean | false | If false (default and faster), no geometries are returned. This is much faster.                                                                                                                                                                                                                                                                                                                                                  |
| [[../Parameters/MergeGeoms\|MergeGeoms]]                                 | boolean | false | If false (default) no additional geometries are retrieved. If true, one set of geometries is retrieved for all points in the result and one set for the lines (multi curve). This saves a lot of overhead in the result and can be convenient for highlighting in the receiving application.                                                                                                                                     |
| [[../Parameters/GeomsAsArea\|GeomsAsArea]]                               | boolean | false | If false (default) no area geometry is returned. If true, one area geometry is returned (multi polygon) which is a buffer around all points and lines in a single geometry.                                                                                                                                                                                                                                                      |
| [[../Parameters/EnrichAssetInformation\|EnrichAssetInformation]]         | boolean | false | If true, then the assets in the trace results will be enriched with additional information about the asset, if so specificed in the [configuration](#asset-enrichment). The default is false (much faster).                                                                                                                                                                                                                      |
| [[../Parameters/TraceBackward\|TraceBackward]]                           | boolean | false | Normally, the trace follows the direction of the network. For unidirectional connections, that means it goes from [[FromId|FromId]] to [[ToId|ToId]], and the trace retrieves only unidirectional neighbors leading 'to' are retrieved. If TraceBackwards is set to true, the opposite direction is followed, and only unidirectional neighbors leading from [[FromId|FromId]] are retrieved. Typically, you do not need to specify this parameter. |


## Results
| File                                                                                                        | type         | unique | description                                                                                                                                                                                                                                    |
| ----------------------------------------------------------------------------------------------------------- | ------------ | ------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [[../Results/Search Or Trace Results/StartCount\|StartCount]]                                   | int          | false  | Number of connections that have been retrieved by using the start parameters.                                                                                                                                                                  |
| [[../Results/StartTime\|StartTime]]                                                             | datetime     | false  | The moment that the process or computation was started. Universal date + time.                                                                                                                                                                 |
| [[../Results/Search Or Trace Results/StartConnectionIds\|StartConnectionIds]]                   | long[]       | false  | List of ConnectionIds that retrieved by using the start parameters.                                                                                                                                                                            |
| [[../Results/Search Or Trace Results/Paths (Result)\|Paths (Result)]]                           | Path[]       | false  | List of paths as described below that are retrieved by the trace.                                                                                                                                                                              |
| [[../Results/Search Or Trace Results/ResultsCount\|ResultsCount]]                               | int          | false  | Number of connections that have been retrieved by performing the search.                                                                                                                                                                       |
| [[../Results/Search Or Trace Results/StartConnectionsNotInResult\|StartConnectionsNotInResult]] | Connection[] | false  | List of connections or paths as described below that are not retrieved by the search or trace but do match the start conditions. Only provided if start criteria have been passed.                                                             |
| [[../Results/Connection Or Path Results/GeometryA\|GeometryA]]                                  | multipolygon | false  | Area geometry providing the buffered line and point geometries of the connection(s) of this asset or group of assets.                                                                                                                          |
| [[../Results/Connection Or Path Results/GeometryL\|GeometryL]]                                  | multicurve   | false  | Line or curve geometry providing the location of the connection(s) of this asset or group of assets. Note that each connection may have part of the total line geometry of an asset, e.g. when it is split because of topological interaction. |
| [[../Results/Connection Or Path Results/GeometryP\|GeometryP]]                                  | multipoint   | false  | Point geometry denoting the position(s) of the asset or group of assets for this connection.                                                                                                                                                   |
| [[../Results/Duration\|Duration]]                                                               | timespan     | false  | Specifices the time it took to perform the process or computation. Time span in seconds. Only available when completed.                                                                                                                        |
| [[../Results/Search Or Trace Results/Success\|Success]]                                         | boolean      | false  | True if any results have been retrieved.                                                                                                                                                                                                       |
| [[../Results/Progress State/Message\|Message]]                                                  | string       | false  | Last message provided as logging information for this result or state.                                                                                                                                                                         |


## Paths
| File                                                                                           | type       | unique | description                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| ---------------------------------------------------------------------------------------------- | ---------- | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [[../Results/Connection Or Path Results/Id\|Id]]                                   | long       | true   | Id for the NetCon connection as described in this document.                                                                                                                                                                                                                                                                                                                                                                                                               |
| [[../Results/Connection Or Path Results/FromId\|FromId]]                           | long       | false  | Id identifying the node departing from.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [[../Results/Connection Or Path Results/ToId\|ToId]]                               | long       | false  | Id identifying the node going to.                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [[../Results/Connection Or Path Results/BiDirectional\|BiDirectional]]             | boolean    | false  | False if this connection goes only from FromId to ToId, true if it also returns back.                                                                                                                                                                                                                                                                                                                                                                                     |
| [[../Results/Connection Or Path Results/Barrier\|Barrier]]                         | int        | false  | Enumerator denoting the barring state of this connection. See [[NetCon Barrier Enumerator|NetCon Barrier Enumerator]].                                                                                                                                                                                                                                                                                                                                                                              |
| [[../Results/Connection Or Path Results/Role\|Role]]                               | integer    | false  | The role that this connection has in the commodity network. See [[NetCon Role Enumerator|NetCon Role Enumerator]].                                                                                                                                                                                                                                                                                                                                                                               |
| [[../Results/Connection Or Path Results/Flow\|Flow]]                               | string     | false  | 'DownStream' if the commodity flow from FromId towards ToId, 'Mazed' if the networks barriers are such that the flow can go both ways, 'NoFlow' if no connected path to a [[Sources\|Source]] exists, see also [[Role|Role]]. Note that you should never see 'UpStream' in API call results since this is just 'DownStream' with the from and to id swapped.                                                                                                                   |
| [[../Results/Connection Or Path Results/AssetTableName\|AssetTableName]]           | string     | false  | Name of the table where more information can be found on the asset that constitutes the connection.                                                                                                                                                                                                                                                                                                                                                                       |
| [[../Results/Connection Or Path Results/AssetId\|AssetId]]                         | long       | false  | Id of the asset in registration system.                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| [[../Results/Connection Or Path Results/CustomAssetId\|CustomAssetId]]             | boolean    | false  | Company wide unique id of the asset.                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [[../Results/Connection Or Path Results/Cost\|Cost]]                               | double     | false  | Cost of using this connection in the trace.                                                                                                                                                                                                                                                                                                                                                                                                                               |
| [[../Results/Connection Or Path Results/Status\|Status]]                           | integer    | false  | Enumerator denoting the [[Life Cycle Status|Life Cycle Status]] of this connection. See also [[NetCon Status Enumerator|NetCon Status Enumerator]].                                                                                                                                                                                                                                                                                                                                                                  |
| [[../Results/Connection Or Path Results/Label\|Label]]                             | string     | false  | Tagging information to label important assets in the network. Typically these labels can be used to retrieve the downstream parts that are dependent on the labelled asset.                                                                                                                                                                                                                                                                                               |
| [[../Results/Connection Or Path Results/IsolatableSectionId\|IsolatableSectionId]] | long       | false  | Unique id of the [[Isolatable Section\|section]] that can be isolated as a single unit.                                                                                                                                                                                                                                                                                                                                                                                   |
| [[../Results/Connection Or Path Results/OperatedSectionId\|OperatedSectionId]]     | long       | false  | Unique id of the [[Operated Section\|section]] that currently is operated as a single unit.                                                                                                                                                                                                                                                                                                                                                                               |
| [[../Results/Connection Or Path Results/FeederSectionId\|FeederSectionId]]         | long       | false  | Unique id of the [[Feeder Section\|section]] that fed from an important barrier (e.g. a 'circuit breaker') that is directly behind a station or installation (or whatever upstream criteria has been specified in the definition).                                                                                                                                                                                                                                        |
| [[../Results/Connection Or Path Results/CustomSectionId\|CustomSectionId]]         | boolean    | false  | Unique id of the [[Custom Section\|custom defined section]]. The criteria of custom defined sections are specified in the [[Configuration|Configuration]].                                                                                                                                                                                                                                                                                                                              |
| [[../Results/Connection Or Path Results/AssetHierarchy\|AssetHierarchy]]           | string     | false  | List of name=value pairs that provide more information. The order of the pairs does not matter. The asset hierarchy can be used to identify or complete parts of the network in a single step and to link to structural information that is not part of the connectivity, but relevant for the network operation. If enrichment information has been configured, a whole range of additional [[asset hierarchy enrichment\|asset hierarchy attributes]] can be retrieved. |
| [[../Results/Connection Or Path Results/Specification\|Specification]]             | string     | false  | Spec of type information of the asset, that provides relevant characteristics of the asset. E.g. for an electric network this could be the core diameter and impedance, for a gas or water network the diameter and resistance, and for a telecom network the light characteristics. If enrichment information has been configured, a whole range of additional [[specification-enrichment\|specification attributes]] can be retrieved.                                  |
| [[../Results/Connection Or Path Results/CommoditySubnetwork\|CommoditySubnetwork]] | string     | false  | CommoditySubnetwork                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [[../Results/Connection Or Path Results/CommodityFunction\|CommodityFunction]]     | boolean    | false  | Specifies the function or component of the subnetwork, e.g. the 400 (volt) or 'industrial water'.                                                                                                                                                                                                                                                                                                                                                                         |
| [[../Results/Connection Or Path Results/CommodityDetails\|CommodityDetails]]       | string     | false  | Specifies details of the commodity being transported, e.g. phase information, channels.                                                                                                                                                                                                                                                                                                                                                                                   |
| [[../Results/Connection Or Path Results/EdgeType\|EdgeType]]                       | integer    | false  | Enumerator denoting the asset this connection came from. '0' is from a node asset, '1' is from a link asset, '2' is an (inserted) terminal. See [[NetCon Edge Type Enumerator|NetCon Edge Type Enumerator]].                                                                                                                                                                                                                                                                                          |
| [[../Results/Connection Or Path Results/GeometryL\|GeometryL]]                     | multicurve | false  | Line or curve geometry providing the location of the connection(s) of this asset or group of assets. Note that each connection may have part of the total line geometry of an asset, e.g. when it is split because of topological interaction.                                                                                                                                                                                                                            |
| [[../Results/Connection Or Path Results/GeometryP\|GeometryP]]                     | multipoint | false  | Point geometry denoting the position(s) of the asset or group of assets for this connection.                                                                                                                                                                                                                                                                                                                                                                              |
| [[../Results/Connection Or Path Results/Depth\|Depth]]                             | boolean    | false  | Index of the current connection in the path.                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [[../Results/Connection Or Path Results/PreviousId\|PreviousId]]                   | long       | false  | [[Id|Id]] pointing to the id of the preceding path, that came before this one. Depth = 1 means there is no previous path used inside this path. The PreviousId is unique in a path, but not in trace results. The PreviousId can be used to retrieve the previous path, which is used inside this path.                                                                                                                                                                      |
| [[../Results/Connection Or Path Results/SumCost\|SumCost]]                         | double     | false  | Sum of all the [[Cost|Cost]]s in the path.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [[../Results/Connection Or Path Results/Flag\|Flag]]                               | integer    | false  | Flag enumerator showing a special marking of this [[Connection|Connection]] in the trace results. '0' = none, '1' = matching start criteria, '2' = matching yield criteria, '3' = both.                                                                                                                                                                                                                                                                                              |


  
For a more elaborate explanation see [[../../Overview/Network Ontology|Network Ontology]].

---
Example query to trace out from Asset with TableName = 'e_transformer' and Id = 123 to all switching gear within 100 meters:

    https://server.domain.local/api/v2/netcon/v1/trace-out?StartAssetTableNameWildCard=e_transformer&StartAssetId=123&StopAssetTableNameWildCard=e_switching_gear&max_costs=100
